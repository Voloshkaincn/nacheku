"use strict";function _createForOfIteratorHelper(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}var controller,scene,scene2;function createScrollMagic(){controller=new ScrollMagic.Controller;var t,e=document.documentElement.clientHeight,r=document.documentElement.clientWidth;if(scene=(t=e<=r?e-.21*r:e-(.9*e-.36*r),new ScrollMagic.Scene({triggerElement:"#first",duration:t,triggerHook:"0"}).setPin("#claw").addTo(controller)),e<=r&&992<r){var o=document.getElementById("opinion").clientHeight,n=document.getElementById("chertkov").clientHeight;document.getElementById("trigerChertkov").style.top=n+"px",scene2=new ScrollMagic.Scene({triggerElement:"#trigerChertkov",duration:o-n,triggerHook:"1"}).setPin("#chertkov").addTo(controller)}}function destroyController(){controller&&(controller.destroy(!0),scene.destroy(!0))}createScrollMagic(),window.addEventListener("resize",function(){destroyController(),createScrollMagic()});var anchors=document.querySelectorAll(".scrollnext");function addScrollToAnchor(r){r.addEventListener("click",function(t){t.preventDefault();var e=r.getAttribute("data-href").substr(1);document.getElementById(e).scrollIntoView({behavior:"smooth",block:"end"})})}var _step,_iterator=_createForOfIteratorHelper(anchors);try{for(_iterator.s();!(_step=_iterator.n()).done;){var anchor=_step.value;addScrollToAnchor(anchor)}}catch(t){_iterator.e(t)}finally{_iterator.f()}var toTop=document.querySelector(".tostart");addScrollToAnchor(toTop);var _step2,modalBtns=document.getElementsByClassName("call-modal"),_iterator2=_createForOfIteratorHelper(modalBtns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)modalBtn=_step2.value,modalBtn.addEventListener("click",function(){var t=this.getAttribute("data-modal"),e=document.getElementById(t);e.classList.add("modal_show"),document.body.classList.add("noscroll"),e.querySelector(".modal__close").addEventListener("click",function(){document.body.classList.remove("noscroll"),e.classList.remove("modal_show")}),e.addEventListener("click",function(){document.body.classList.remove("noscroll"),e.classList.remove("modal_show")}),e.querySelector(".modal__container").addEventListener("click",function(t){return t.stopPropagation(),!1})})}catch(t){_iterator2.e(t)}finally{_iterator2.f()}var input=document.querySelector(".quantity__input"),btnUp=document.querySelector(".quantity-up"),btnDown=document.querySelector(".quantity-down"),min=input.getAttribute("min"),max=input.getAttribute("max");btnUp.addEventListener("click",function(){var t,e=parseFloat(input.value);t=max<=e?e:e+1,input.value=t;var r=new Event("change");input.dispatchEvent(r)}),btnDown.addEventListener("click",function(){var t,e=parseFloat(input.value);t=e<=min?e:e-1,input.value=t;var r=new Event("change");input.dispatchEvent(r)}),input.addEventListener("change",function(){var t=340*input.value,e=.3*t;document.getElementById("quantitySum").textContent=t,document.getElementById("saleRez").textContent=e,document.getElementById("total").textContent=t-e});var _step3,maskPhoneError,maskEmailError,points=document.getElementsByClassName("form__point"),_iterator3=_createForOfIteratorHelper(points);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;)point=_step3.value,point.addEventListener("click",function(){var t="step"+this.textContent;document.querySelector(".form__step_active").classList.remove("form__step_active"),document.getElementById(t).classList.add("form__step_active")})}catch(t){_iterator3.e(t)}finally{_iterator3.f()}function validRequired(t){""===t.val().trim()&&(t.addClass("input_empty"),error=!0)}$(".custom-select").each(function(){var t=$(this).attr("class"),e=($(this).attr("id"),$(this).attr("name"),'<div class="'+t+'">'),r=$(this).attr("placeholder")?$(this).attr("placeholder"):$(this).find("option:selected").text();e+='<span class="custom-select-trigger">'+r+"</span>",e+='<div class="custom-options">',$(this).find("option").each(function(){e+='<span class="custom-option '+$(this).attr("class")+'" data-value="'+$(this).attr("value")+'">'+$(this).html()+"</span>"}),e+="</div></div>",$(this).wrap('<div class="custom-select-wrapper"></div>'),$(this).hide(),$(this).after(e)}),$(".custom-option:first-of-type").hover(function(){$(this).parents(".custom-options").addClass("option-hover")},function(){$(this).parents(".custom-options").removeClass("option-hover")}),$(".custom-select-trigger").on("click",function(t){$("html").one("click",function(){$(".custom-select").removeClass("opened")}),$(".modal__container").one("click",function(){$(".custom-select").removeClass("opened")}),$(".select-trigger").not($(this)).parents(".select").removeClass("opened"),$(this).parents(".custom-select").toggleClass("opened"),t.stopPropagation()}),$(".custom-option").on("click",function(){$(this).parents(".custom-select-wrapper").find("select").val($(this).data("value")),$(this).parents(".custom-select-wrapper").find("select").trigger("change"),$(this).parents(".custom-options").find(".custom-option").removeClass("selection"),$(this).addClass("selection"),$(this).parents(".custom-select").removeClass("opened"),$(this).parents(".custom-select").find(".custom-select-trigger").text($(this).text())}),$("#inputPhone").inputmask({placeholder:"",showMaskOnHover:!1,mask:"+380 99 999 99 99",onincomplete:function(){$(this).addClass("maskerror"),maskPhoneError=!0},oncomplete:function(){$(this).removeClass("maskerror"),maskPhoneError=!1}}),$("#inputEmail").inputmask({placeholder:"",showMaskOnHover:!1,alias:"email",onincomplete:function(){$(this).addClass("maskerror"),maskEmailError=!0},oncomplete:function(){$(this).removeClass("maskerror error"),maskEmailError=!1}}),$(".required").each(function(){var t=$(this);t.on("input",function(){""!==t.val().trim()&&t.removeClass("input_empty")})}),$("#submit").on("click",function(t){return error=!1,$(".required").each(function(){validRequired($(this))}),1!=error&&!maskPhoneError&&!maskEmailError||(t.preventDefault(),!1)});